<es-gallery-modal></es-gallery-modal>
<section class="list-group" *ngIf="hasPosts()">
  <article
    class="list-group-item post"
    [ngClass]="{active: selectedPost && post == selectedPost}"
    *ngFor="let post of posts.items">

    <div class="post__date">
      {{formatDate(post.date)}}
    </div>

    <div *ngIf="post.title" class="post__title">
      {{post.title}}
    </div>

    <div class="post__tags">
      {{post.tags}}
    </div>

    <span class="photos">
      <a class="photo" [href]="getFullsizeUrl(photo)" *ngFor="let photo of post.photos; let i = index" esGallery esGalleryId="mygallery-{{post._id}}" [esGalleryImage]=getFullsizeUrl(photo)>
        <img *ngIf="i==0" [src]="getMainImageUrl(photo)">
        <img *ngIf="i!=0" [src]="getThumbnailUrl(photo)">
      </a>
    </span>

  </article>
</section>

<button (click)="loadNextPage()">Load more</button>
<div id="infinitescroll"></div>
